<form (ngSubmit)="onSubmit()" #f="ngForm">
    <div 
    id="user-data" 
    ngModelGroup="userData"
    #userData="ngModelGroup">
        <div class="row">
            <div class="form-group col-1 row-1">
                <label for="username">Nombre</label> <br>
                <input
                type="text" 
                id="username" 
                placeholder="Nombre"  
                required
                ngModel
                name="username"
                #username="ngModel"> <br>
                <small *ngIf="!username.valid && username.touched">Debe agregar su nombre</small>
            </div>
            <div class="form-group col-2 row-1">
                <label for="apellido1">Primer apellido</label> <br>
                <input 
                type="text" 
                id="apellido1" 
                placeholder="Primer apellido" 
                required
                ngModel
                name="apellido1"
                #apellido1="ngModel"> <br>
                <small *ngIf="!apellido1.valid && apellido1.touched">Debe agregar su primer apellido</small>
            </div>
            <div class="form-group col-3 row-1">
                <label for="apellido2">Segundo apellido</label> <br>
                <input 
                type="text" 
                id="apellido2" 
                placeholder="Segundo apellido" 
                required
                ngModel
                name="apellido2"
                #apellido2="ngModel"> <br>
                <small *ngIf="!apellido2.valid && apellido1.touched">Debe agregar su segundo apellido</small>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-1 row-1">
                <label for="nickname">Nombre de usuario</label> <br>
                <input 
                type="text" 
                id="nickname" 
                placeholder="king" 
                required
                [(ngModel)]="apodo"
                name="nickname"
                #nickname="ngModel"> <br>
                <small *ngIf="!nicknameExiste && !nickname.valid && nickname.touched">Debe agregar el nombre de usuario</small>
                <small *ngIf="nicknameExiste && nickname.valid && nickname.touched">El nombre de usuario ingresado ya existe</small>
            </div>
            <div class="form-group col-2 row-1">
                <label for="email">Correo</label> <br>
                <input 
                type="text" 
                id="email" 
                required
                email
                ngModel 
                name="email"
                #email="ngModel"> <br>
                <small *ngIf="!email.valid && email.touched">Debe agregar un correo válido</small> <br>
            </div>
            <div class="form-group col-3 row-1">
                <label for="phone">Teléfono</label> <br>
                <input 
                type="text" 
                id="phone" 
                required
                minlength="8"
                maxlength="8"
                phone
                [(ngModel)]="tel"
                name="phone"
                #phone="ngModel"> <br>
                <small *ngIf="!phone.valid && phone.touched">Debe ingresar 8 dígitos</small>
            </div>
        </div>
        <div class="row ">
            <div class="form-group row-pass col-pass">
                <label for="password">Contraseña</label> <br>
                <show-hide-password size="lg" [btnOutline]="false" >
                <input 
                type="password" 
                id="password" 
                required
                minlength="8"
                [pattern]="'^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$'"
                [pattern]="'(\\S*$)'"
                [(ngModel)]="contrasenia"
                name="password"
                #password="ngModel">
            </show-hide-password>              
            </div>   
            <div class="form-group row-pass col-pass">
                <label for="password">Repetir contraseña</label> <br>
                <show-hide-password size="lg" [btnOutline]="false" >
                <input 
                type="password2" 
                id="password2" 
                required
                minlength="8"
                [pattern]="'^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$'"
                [pattern]="'(\\S*$)'"
                [(ngModel)]="contrasenia2"
                name="password2"
                #password2="ngModel">
                </show-hide-password>  
            </div>
        </div>
        <small *ngIf="!password.valid && password.touched">La contraseña de debe tener un mínimo de 8 caracteres, al menos una letra minúscula, una letra mayúscula, un número, y un caracter especial</small>
        <small *ngIf="password.valid && contrasenia !== contrasenia2 && password2.touched">La contraseñas no coinciden</small> <br>
    </div>
    <div id="user-comunication" ngModelGroup="userComunication">
        <div class="row">
            <div class="form-group col-1 row-1">
                <label for="provincia">Provincia</label> <br>
                <select class="form-select"
                name="provincia"
                required
                id="provincia"
                [(ngModel)]="defaultProvincia" 
                name="provincia"
                #provincia="ngModel"
                (change)="cargarCanton($event.target)">
                    <option *ngFor="let provincia of provincias">{{ provincia }}</option>
                </select>
                <small *ngIf="!provincia.valid && provincia.touched">Debe escoger una provincia</small>
            </div>
            <div class="form-group col-2 row-1" [ngClass]="{hide: defaultProvincia === ''}">
                <label for="canton">Cantón</label> <br>
                <select class="form-select"
                name="canton"
                required
                id="canton"
                [(ngModel)]="defaultCanton" 
                name="canton"
                #canton="ngModel"
                (change)="cargarDistrito($event.target)">
                    <option *ngFor="let canton of cantones">{{ canton }}</option>
                </select>
                <small *ngIf="!canton.valid && canton.touched">Debe escoger un cantón</small>
            </div>    
            <div class="form-group col-3 row-1" [ngClass]="{hide: defaultCanton === ''}">
                <label for="canton">Cantón</label> <br>
                <select class="form-select"
                name="distrito"
                required
                id="distrito"
                [(ngModel)]="defaultDistrito" 
                name="distrito"
                #distrito="ngModel">
                    <option *ngFor="let distrito of distritos">{{ distrito }}</option>
                </select>
                <small *ngIf="!distrito.valid && distrito.touched">Debe escoger un distrito</small>
            </div>
            
        </div>
    </div>
    <div class="row">
        <div class="form-group radio row-1" >
            <div class="radio-button" *ngFor="let genero of generos">
                {{ genero }}
            <label >
                <input
                type="radio"
                name="genero"
                ngModel
                [value]="genero"
                required
                #genero="ngModel"> 
            </label>
            </div>
            <small >Debe agregar el teléfono</small> <br>
        </div>
    </div>
    <button 
    class="btn btn-primary" 
    type="submit"
    >Submit form</button>


  </form>
  <div class="prueba">
      <p>Pruebas</p>
      <button type="button" name="nickNamechange" (click)="changeStatusNickName()">
        cambiar estado de nombre</button>
        <p>El estado es: {{ nicknameExiste }}</p>
  </div>
  

<!-- [pattern]="'^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$'" 
-->
<!-- /^\S*$/  no espacios vacios -->